{"ast":null,"code":"var _jsxFileName = \"D:\\\\COSC Hackathon 24\\\\frontend\\\\src\\\\pages\\\\recipes.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport PreviousSearches from \"../components/PreviousSearches\";\nimport RecipeCard from \"../components/RecipeCard\";\nimport CreateRecipe from '../components/CreateRecipe';\nimport SearchComponent from '../components/SearchComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Recipes() {\n  _s();\n  const [recipes, setRecipes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchResults, setSearchResults] = useState([]);\n  const [previousSearches, setPreviousSearches] = useState([]);\n  const fetchRecipes = async (query = '') => {\n    setLoading(true);\n    try {\n      const response = await fetch(`http://localhost:3000/recipes${query}`);\n      if (!response.ok) throw new Error('Network response was not ok');\n      const data = await response.json();\n      setRecipes(data);\n      setError(null);\n    } catch (error) {\n      console.error('Error fetching recipes:', error);\n      setError('Failed to load recipes.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchRecipes();\n  }, []);\n  const handleSearchResults = async results => {\n    setSearchLoading(true);\n    setSearchResults(results);\n    setSearchLoading(false);\n  };\n  const handlePreviousSearchClick = async searchTerm => {\n    const [type, value] = searchTerm.split(': ');\n    const query = new URLSearchParams({\n      [type]: value\n    }).toString();\n    await fetchRecipes(`?${query}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipes-tab\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Your Own Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CreateRecipe, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-section\",\n      children: [/*#__PURE__*/_jsxDEV(PreviousSearches, {\n        searches: previousSearches,\n        onSearchClick: handlePreviousSearchClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SearchComponent, {\n        onResults: handleSearchResults,\n        onNewSearch: search => setPreviousSearches(prev => [search, ...prev]),\n        isLoading: searchLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipes-container\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading recipes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this) : searchResults.length > 0 ? searchResults.map(recipe => /*#__PURE__*/_jsxDEV(RecipeCard, {\n        recipe: recipe\n      }, recipe._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 51\n      }, this)) : recipes.map(recipe => /*#__PURE__*/_jsxDEV(RecipeCard, {\n        recipe: recipe\n      }, recipe._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 45\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n_s(Recipes, \"ENteXyH2Jk8ZA80juHmKlx0d8NE=\");\n_c = Recipes;\nvar _c;\n$RefreshReg$(_c, \"Recipes\");","map":{"version":3,"names":["React","useEffect","useState","PreviousSearches","RecipeCard","CreateRecipe","SearchComponent","jsxDEV","_jsxDEV","Recipes","_s","recipes","setRecipes","loading","setLoading","searchLoading","setSearchLoading","error","setError","searchResults","setSearchResults","previousSearches","setPreviousSearches","fetchRecipes","query","response","fetch","ok","Error","data","json","console","handleSearchResults","results","handlePreviousSearchClick","searchTerm","type","value","split","URLSearchParams","toString","children","className","fileName","_jsxFileName","lineNumber","columnNumber","searches","onSearchClick","onResults","onNewSearch","search","prev","isLoading","length","map","recipe","_id","_c","$RefreshReg$"],"sources":["D:/COSC Hackathon 24/frontend/src/pages/recipes.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PreviousSearches from \"../components/PreviousSearches\";\nimport RecipeCard from \"../components/RecipeCard\";\nimport CreateRecipe from '../components/CreateRecipe'; \nimport SearchComponent from '../components/SearchComponent'; \n\nexport default function Recipes() {\n    const [recipes, setRecipes] = useState([]); \n    const [loading, setLoading] = useState(true); \n    const [searchLoading, setSearchLoading] = useState(false); \n    const [error, setError] = useState(null); \n    const [searchResults, setSearchResults] = useState([]); \n    const [previousSearches, setPreviousSearches] = useState([]); \n\n    const fetchRecipes = async (query = '') => {\n        setLoading(true);\n        try {\n            const response = await fetch(`http://localhost:3000/recipes${query}`);\n            if (!response.ok) throw new Error('Network response was not ok');\n            const data = await response.json();\n            setRecipes(data);\n            setError(null);\n        } catch (error) {\n            console.error('Error fetching recipes:', error);\n            setError('Failed to load recipes.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchRecipes();\n    }, []);\n\n    const handleSearchResults = async (results) => {\n        setSearchLoading(true);\n        setSearchResults(results);\n        setSearchLoading(false);\n    };\n\n    const handlePreviousSearchClick = async (searchTerm) => {\n        const [type, value] = searchTerm.split(': ');\n        const query = new URLSearchParams({ [type]: value }).toString();\n        await fetchRecipes(`?${query}`);\n    };\n\n    return (\n        <div>\n            <div className=\"recipes-tab\">\n                <h2>Create Your Own Recipe</h2>\n                <CreateRecipe />\n                <hr />\n            </div>\n\n            <div className=\"search-section\">\n                <PreviousSearches \n                    searches={previousSearches} \n                    onSearchClick={handlePreviousSearchClick} \n                />\n                <SearchComponent \n                    onResults={handleSearchResults} \n                    onNewSearch={(search) => setPreviousSearches((prev) => [search, ...prev])} \n                    isLoading={searchLoading} \n                />\n                <hr />\n            </div>\n\n            <div className=\"recipes-container\">\n                {loading ? (\n                    <p>Loading recipes...</p>\n                ) : error ? (\n                    <p>{error}</p>\n                ) : searchResults.length > 0 ? (\n                    searchResults.map((recipe) => <RecipeCard key={recipe._id} recipe={recipe} />)\n                ) : (\n                    recipes.map((recipe) => <RecipeCard key={recipe._id} recipe={recipe} />)\n                )}\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}